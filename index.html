<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Welcome to CYF Chat</title>
  </head>
  <body>
    <h1>
      CYF Chat
    </h1>
    <h2>
      Send a message
    </h2>
    <form action="/messages" method="post">
      <p>
        Name: <input type="text" name="from" placeholder="Your Name"  id="name-input"/> <br />
        <div id ="name-error" class="error">
          
      </div>
        Message: <input type="text" name="text" placeholder="The message..." id="text-input"/> <br />
      <div id ="text-error" class="error">
          
      </div>
      </p>
      <button type="submit" id="button">
        Send
      </button>
    </form>
    
    <a href="/messages">See all messages</a>
    
    </body>
  <script>
  
    
  document.getElementById("name-input").addEventListener('keyup', function(){validateName("name-input", "name-error")})
    document.getElementById("text-input").addEventListener('keyup', function() {validateName("text-input", "text-error")})
function validateName(fieldId, errorId){
  const nameInput = document.getElementById(fieldId)
  const input = nameInput.value
  console.log(input)
  const isValid = nameIsValid(input)
  console.log(isValid)
  const message =document.getElementById(errorId)
  const sendButton = document.getElementById("button")
  if(isValid){
    message.innerHTML = "this is valid"
    sendButton.disabled=false
  }
  else{
    message.innerHTML =" Error: text input must be two or more letters"
    sendButton.disabled=true
  }
}
    function nameIsValid(name){
      if(name.length < 2){
        return false;
      }
      const checker = /^[a-zA-Z]+$/
      return checker.test(name)
    }
  </script>
</html>